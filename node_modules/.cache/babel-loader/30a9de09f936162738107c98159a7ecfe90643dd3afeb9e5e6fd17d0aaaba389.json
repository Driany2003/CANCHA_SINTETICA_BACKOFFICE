{"ast":null,"code":"var _jsxFileName = \"/Users/gio/Desktop/sistemas/CANCHA_SINTETICA_BACKOFFICE/src/components/ModalEditarUsuario.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { XIcon, UserIcon } from '../components/icons/Icons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ModalEditarUsuario = ({\n  usuario,\n  abierto,\n  onCerrar,\n  onUpdate,\n  locales\n}) => {\n  _s();\n  const [formData, setFormData] = useState({\n    dni: '',\n    nombre: '',\n    email: '',\n    telefono: '',\n    rol: 'trabajador',\n    localId: '',\n    activo: true,\n    notas: ''\n  });\n  const [errores, setErrores] = useState({});\n  useEffect(() => {\n    if (usuario) {\n      setFormData({\n        dni: usuario.dni,\n        nombre: usuario.nombre,\n        email: usuario.email,\n        telefono: usuario.telefono,\n        rol: usuario.rol,\n        localId: usuario.localId || '',\n        activo: usuario.activo,\n        notas: usuario.notas || ''\n      });\n      setErrores({});\n    }\n  }, [usuario]);\n  const handleInputChange = (campo, valor) => {\n    setFormData(prev => ({\n      ...prev,\n      [campo]: valor\n    }));\n\n    // Limpiar error del campo cuando el usuario empiece a escribir\n    if (errores[campo]) {\n      setErrores(prev => ({\n        ...prev,\n        [campo]: ''\n      }));\n    }\n  };\n  const validarFormulario = () => {\n    const nuevosErrores = {};\n\n    // Validar DNI\n    if (!formData.dni.trim()) {\n      nuevosErrores.dni = 'El DNI es requerido';\n    } else if (!/^\\d{8}$/.test(formData.dni.replace(/\\D/g, ''))) {\n      nuevosErrores.dni = 'El DNI debe tener exactamente 8 dígitos';\n    }\n\n    // Validar nombre\n    if (!formData.nombre.trim()) {\n      nuevosErrores.nombre = 'El nombre es requerido';\n    } else if (formData.nombre.trim().length < 2) {\n      nuevosErrores.nombre = 'El nombre debe tener al menos 2 caracteres';\n    }\n\n    // Validar email\n    if (!formData.email.trim()) {\n      nuevosErrores.email = 'El email es requerido';\n    } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(formData.email)) {\n      nuevosErrores.email = 'El email no tiene un formato válido';\n    }\n\n    // Validar teléfono\n    if (!formData.telefono.trim()) {\n      nuevosErrores.telefono = 'El teléfono es requerido';\n    } else if (!/^9\\d{8}$/.test(formData.telefono.replace(/\\D/g, ''))) {\n      nuevosErrores.telefono = 'El teléfono debe empezar con 9 y tener 9 dígitos';\n    }\n\n    // Validar local para trabajadores\n    if (formData.rol === 'trabajador' && !formData.localId) {\n      nuevosErrores.localId = 'Debe seleccionar un local para trabajadores';\n    }\n    setErrores(nuevosErrores);\n    return Object.keys(nuevosErrores).length === 0;\n  };\n  const handleSubmit = e => {\n    var _locales$find;\n    e.preventDefault();\n    if (!validarFormulario() || !usuario) {\n      return;\n    }\n    const usuarioActualizado = {\n      ...usuario,\n      dni: formData.dni.replace(/\\D/g, ''),\n      nombre: formData.nombre.trim(),\n      email: formData.email.trim().toLowerCase(),\n      telefono: formData.telefono.replace(/\\D/g, ''),\n      rol: formData.rol,\n      localId: formData.rol === 'trabajador' ? formData.localId : undefined,\n      localNombre: formData.rol === 'trabajador' ? (_locales$find = locales.find(l => l.id === formData.localId)) === null || _locales$find === void 0 ? void 0 : _locales$find.nombre : undefined,\n      activo: formData.activo,\n      notas: formData.notas.trim() || undefined\n    };\n    onUpdate(usuarioActualizado);\n    onCerrar();\n  };\n  const handleCerrar = () => {\n    setErrores({});\n    onCerrar();\n  };\n  if (!abierto || !usuario) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between p-6 border-b border-slate-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-slate-900\",\n          children: \"Editar Usuario\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleCerrar,\n          className: \"text-slate-400 hover:text-slate-600 transition-colors duration-200\",\n          children: /*#__PURE__*/_jsxDEV(XIcon, {\n            className: \"h-6 w-6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6 space-y-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-start space-x-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-shrink-0\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-16 w-16 rounded-full bg-green-100 flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(UserIcon, {\n                className: \"h-8 w-8 text-green-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-2xl font-bold text-slate-900\",\n              children: usuario.nombre\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-slate-600 mt-1\",\n              children: [usuario.email, \" \\u2022 \", usuario.telefono]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-slate-50 rounded-lg p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-lg font-semibold text-slate-900 mb-4\",\n              children: \"Informaci\\xF3n del Usuario\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-slate-700 mb-2\",\n                  children: \"DNI *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 172,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: formData.dni,\n                  onChange: e => {\n                    const valor = e.target.value.replace(/\\D/g, '');\n                    if (valor.length <= 8) {\n                      handleInputChange('dni', valor);\n                    }\n                  },\n                  className: `w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 ${errores.dni ? 'border-red-300' : 'border-slate-300'}`,\n                  placeholder: \"12345678\",\n                  maxLength: 8\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 19\n                }, this), errores.dni && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-red-600 text-xs mt-1\",\n                  children: errores.dni\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-slate-700 mb-2\",\n                  children: \"Nombre Completo *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: formData.nombre,\n                  onChange: e => handleInputChange('nombre', e.target.value),\n                  className: `w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 ${errores.nombre ? 'border-red-300' : 'border-slate-300'}`,\n                  placeholder: \"Ej: Juan P\\xE9rez\",\n                  maxLength: 50\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 19\n                }, this), errores.nombre && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-red-600 text-xs mt-1\",\n                  children: errores.nombre\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-slate-700 mb-2\",\n                  children: \"Email *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"email\",\n                  value: formData.email,\n                  onChange: e => handleInputChange('email', e.target.value),\n                  className: `w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 ${errores.email ? 'border-red-300' : 'border-slate-300'}`,\n                  placeholder: \"usuario@empresa.com\",\n                  maxLength: 100\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 19\n                }, this), errores.email && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-red-600 text-xs mt-1\",\n                  children: errores.email\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-slate-700 mb-2\",\n                  children: \"Tel\\xE9fono *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"tel\",\n                  value: formData.telefono,\n                  onChange: e => {\n                    const valor = e.target.value.replace(/\\D/g, '');\n                    if (valor.length <= 9) {\n                      handleInputChange('telefono', valor);\n                    }\n                  },\n                  className: `w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 ${errores.telefono ? 'border-red-300' : 'border-slate-300'}`,\n                  placeholder: \"987654321\",\n                  maxLength: 9\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 19\n                }, this), errores.telefono && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-red-600 text-xs mt-1\",\n                  children: errores.telefono\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-slate-700 mb-2\",\n                  children: \"Rol *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: formData.rol,\n                  onChange: e => {\n                    const nuevoRol = e.target.value;\n                    handleInputChange('rol', nuevoRol);\n                    // Limpiar local si cambia a admin\n                    if (nuevoRol === 'admin') {\n                      handleInputChange('localId', '');\n                    }\n                  },\n                  className: \"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"trabajador\",\n                    children: \"Trabajador\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 277,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"admin\",\n                    children: \"Administrador\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 278,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-slate-700 mb-2\",\n                  children: [\"Local Asignado \", formData.rol === 'trabajador' && '*']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: formData.localId,\n                  onChange: e => handleInputChange('localId', e.target.value),\n                  disabled: formData.rol === 'admin',\n                  className: `w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 ${formData.rol === 'admin' ? 'bg-slate-100 cursor-not-allowed' : ''} ${errores.localId ? 'border-red-300' : 'border-slate-300'}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: formData.rol === 'admin' ? 'No aplica para administradores' : 'Seleccionar local'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 295,\n                    columnNumber: 21\n                  }, this), locales.map(local => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: local.id,\n                    children: local.nombre\n                  }, local.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 299,\n                    columnNumber: 23\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 19\n                }, this), errores.localId && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-red-600 text-xs mt-1\",\n                  children: errores.localId\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 21\n                }, this), formData.rol === 'admin' && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-slate-500 text-xs mt-1\",\n                  children: \"Los administradores tienen acceso a todos los locales\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 308,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-slate-700 mb-2\",\n                  children: \"Estado\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 316,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: formData.activo.toString(),\n                  onChange: e => handleInputChange('activo', e.target.value === 'true'),\n                  className: \"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"true\",\n                    children: \"Activo\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 324,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"false\",\n                    children: \"Inactivo\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 325,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 319,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"md:col-span-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-slate-700 mb-2\",\n                  children: \"Notas\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 331,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  value: formData.notas,\n                  onChange: e => handleInputChange('notas', e.target.value),\n                  className: \"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500\",\n                  placeholder: \"Informaci\\xF3n adicional sobre el usuario...\",\n                  rows: 3,\n                  maxLength: 200\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 334,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end space-x-3 pt-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: handleCerrar,\n              className: \"px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-md hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 transition-colors duration-200\",\n              children: \"Cancelar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"px-4 py-2 text-sm font-medium text-white bg-green-600 border border-transparent rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200\",\n              children: \"Guardar Cambios\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 133,\n    columnNumber: 5\n  }, this);\n};\n_s(ModalEditarUsuario, \"rFQZ324v50Ap1Ibvt7wuXS4HSnQ=\");\n_c = ModalEditarUsuario;\nexport default ModalEditarUsuario;\nvar _c;\n$RefreshReg$(_c, \"ModalEditarUsuario\");","map":{"version":3,"names":["React","useState","useEffect","XIcon","UserIcon","jsxDEV","_jsxDEV","ModalEditarUsuario","usuario","abierto","onCerrar","onUpdate","locales","_s","formData","setFormData","dni","nombre","email","telefono","rol","localId","activo","notas","errores","setErrores","handleInputChange","campo","valor","prev","validarFormulario","nuevosErrores","trim","test","replace","length","Object","keys","handleSubmit","e","_locales$find","preventDefault","usuarioActualizado","toLowerCase","undefined","localNombre","find","l","id","handleCerrar","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onSubmit","type","value","onChange","target","placeholder","maxLength","nuevoRol","disabled","map","local","toString","rows","_c","$RefreshReg$"],"sources":["/Users/gio/Desktop/sistemas/CANCHA_SINTETICA_BACKOFFICE/src/components/ModalEditarUsuario.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Usuario, RolUsuario } from '../types/Usuario';\nimport { Local } from '../types/Reserva';\nimport { XIcon, UserIcon } from '../components/icons/Icons';\n\ninterface ModalEditarUsuarioProps {\n  usuario: Usuario | null;\n  abierto: boolean;\n  onCerrar: () => void;\n  onUpdate: (usuario: Usuario) => void;\n  locales: Local[];\n}\n\nconst ModalEditarUsuario: React.FC<ModalEditarUsuarioProps> = ({\n  usuario,\n  abierto,\n  onCerrar,\n  onUpdate,\n  locales\n}) => {\n  const [formData, setFormData] = useState({\n    dni: '',\n    nombre: '',\n    email: '',\n    telefono: '',\n    rol: 'trabajador' as RolUsuario,\n    localId: '',\n    activo: true,\n    notas: ''\n  });\n\n  const [errores, setErrores] = useState<Record<string, string>>({});\n\n  useEffect(() => {\n    if (usuario) {\n      setFormData({\n        dni: usuario.dni,\n        nombre: usuario.nombre,\n        email: usuario.email,\n        telefono: usuario.telefono,\n        rol: usuario.rol,\n        localId: usuario.localId || '',\n        activo: usuario.activo,\n        notas: usuario.notas || ''\n      });\n      setErrores({});\n    }\n  }, [usuario]);\n\n  const handleInputChange = (campo: string, valor: any) => {\n    setFormData(prev => ({ ...prev, [campo]: valor }));\n    \n    // Limpiar error del campo cuando el usuario empiece a escribir\n    if (errores[campo]) {\n      setErrores(prev => ({ ...prev, [campo]: '' }));\n    }\n  };\n\n  const validarFormulario = () => {\n    const nuevosErrores: Record<string, string> = {};\n\n    // Validar DNI\n    if (!formData.dni.trim()) {\n      nuevosErrores.dni = 'El DNI es requerido';\n    } else if (!/^\\d{8}$/.test(formData.dni.replace(/\\D/g, ''))) {\n      nuevosErrores.dni = 'El DNI debe tener exactamente 8 dígitos';\n    }\n\n    // Validar nombre\n    if (!formData.nombre.trim()) {\n      nuevosErrores.nombre = 'El nombre es requerido';\n    } else if (formData.nombre.trim().length < 2) {\n      nuevosErrores.nombre = 'El nombre debe tener al menos 2 caracteres';\n    }\n\n    // Validar email\n    if (!formData.email.trim()) {\n      nuevosErrores.email = 'El email es requerido';\n    } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(formData.email)) {\n      nuevosErrores.email = 'El email no tiene un formato válido';\n    }\n\n    // Validar teléfono\n    if (!formData.telefono.trim()) {\n      nuevosErrores.telefono = 'El teléfono es requerido';\n    } else if (!/^9\\d{8}$/.test(formData.telefono.replace(/\\D/g, ''))) {\n      nuevosErrores.telefono = 'El teléfono debe empezar con 9 y tener 9 dígitos';\n    }\n\n    // Validar local para trabajadores\n    if (formData.rol === 'trabajador' && !formData.localId) {\n      nuevosErrores.localId = 'Debe seleccionar un local para trabajadores';\n    }\n\n    setErrores(nuevosErrores);\n    return Object.keys(nuevosErrores).length === 0;\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!validarFormulario() || !usuario) {\n      return;\n    }\n\n    const usuarioActualizado: Usuario = {\n      ...usuario,\n      dni: formData.dni.replace(/\\D/g, ''),\n      nombre: formData.nombre.trim(),\n      email: formData.email.trim().toLowerCase(),\n      telefono: formData.telefono.replace(/\\D/g, ''),\n      rol: formData.rol,\n      localId: formData.rol === 'trabajador' ? formData.localId : undefined,\n      localNombre: formData.rol === 'trabajador' \n        ? locales.find(l => l.id === formData.localId)?.nombre \n        : undefined,\n      activo: formData.activo,\n      notas: formData.notas.trim() || undefined\n    };\n\n    onUpdate(usuarioActualizado);\n    onCerrar();\n  };\n\n  const handleCerrar = () => {\n    setErrores({});\n    onCerrar();\n  };\n\n  if (!abierto || !usuario) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n        \n        {/* Header */}\n        <div className=\"flex items-center justify-between p-6 border-b border-slate-200\">\n          <h3 className=\"text-lg font-semibold text-slate-900\">Editar Usuario</h3>\n          <button\n            onClick={handleCerrar}\n            className=\"text-slate-400 hover:text-slate-600 transition-colors duration-200\"\n          >\n            <XIcon className=\"h-6 w-6\" />\n          </button>\n        </div>\n\n        {/* Contenido del Modal */}\n        <div className=\"p-6 space-y-6\">\n          {/* Información Principal */}\n          <div className=\"flex items-start space-x-4\">\n            <div className=\"flex-shrink-0\">\n              <div className=\"h-16 w-16 rounded-full bg-green-100 flex items-center justify-center\">\n                <UserIcon className=\"h-8 w-8 text-green-600\" />\n              </div>\n            </div>\n            <div className=\"flex-1\">\n              <h2 className=\"text-2xl font-bold text-slate-900\">{usuario.nombre}</h2>\n              <p className=\"text-slate-600 mt-1\">\n                {usuario.email} • {usuario.telefono}\n              </p>\n            </div>\n          </div>\n\n          {/* Formulario */}\n          <form onSubmit={handleSubmit}>\n            <div className=\"bg-slate-50 rounded-lg p-4\">\n              <h4 className=\"text-lg font-semibold text-slate-900 mb-4\">Información del Usuario</h4>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                \n                {/* DNI */}\n                <div>\n                  <label className=\"block text-sm font-medium text-slate-700 mb-2\">\n                    DNI *\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={formData.dni}\n                    onChange={(e) => {\n                      const valor = e.target.value.replace(/\\D/g, '');\n                      if (valor.length <= 8) {\n                        handleInputChange('dni', valor);\n                      }\n                    }}\n                    className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 ${\n                      errores.dni ? 'border-red-300' : 'border-slate-300'\n                    }`}\n                    placeholder=\"12345678\"\n                    maxLength={8}\n                  />\n                  {errores.dni && (\n                    <p className=\"text-red-600 text-xs mt-1\">{errores.dni}</p>\n                  )}\n                </div>\n\n                {/* Nombre Completo */}\n                <div>\n                  <label className=\"block text-sm font-medium text-slate-700 mb-2\">\n                    Nombre Completo *\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={formData.nombre}\n                    onChange={(e) => handleInputChange('nombre', e.target.value)}\n                    className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 ${\n                      errores.nombre ? 'border-red-300' : 'border-slate-300'\n                    }`}\n                    placeholder=\"Ej: Juan Pérez\"\n                    maxLength={50}\n                  />\n                  {errores.nombre && (\n                    <p className=\"text-red-600 text-xs mt-1\">{errores.nombre}</p>\n                  )}\n                </div>\n\n                {/* Email */}\n                <div>\n                  <label className=\"block text-sm font-medium text-slate-700 mb-2\">\n                    Email *\n                  </label>\n                  <input\n                    type=\"email\"\n                    value={formData.email}\n                    onChange={(e) => handleInputChange('email', e.target.value)}\n                    className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 ${\n                      errores.email ? 'border-red-300' : 'border-slate-300'\n                    }`}\n                    placeholder=\"usuario@empresa.com\"\n                    maxLength={100}\n                  />\n                  {errores.email && (\n                    <p className=\"text-red-600 text-xs mt-1\">{errores.email}</p>\n                  )}\n                </div>\n\n                {/* Teléfono */}\n                <div>\n                  <label className=\"block text-sm font-medium text-slate-700 mb-2\">\n                    Teléfono *\n                  </label>\n                  <input\n                    type=\"tel\"\n                    value={formData.telefono}\n                    onChange={(e) => {\n                      const valor = e.target.value.replace(/\\D/g, '');\n                      if (valor.length <= 9) {\n                        handleInputChange('telefono', valor);\n                      }\n                    }}\n                    className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 ${\n                      errores.telefono ? 'border-red-300' : 'border-slate-300'\n                    }`}\n                    placeholder=\"987654321\"\n                    maxLength={9}\n                  />\n                  {errores.telefono && (\n                    <p className=\"text-red-600 text-xs mt-1\">{errores.telefono}</p>\n                  )}\n                </div>\n\n                {/* Rol */}\n                <div>\n                  <label className=\"block text-sm font-medium text-slate-700 mb-2\">\n                    Rol *\n                  </label>\n                  <select\n                    value={formData.rol}\n                    onChange={(e) => {\n                      const nuevoRol = e.target.value as RolUsuario;\n                      handleInputChange('rol', nuevoRol);\n                      // Limpiar local si cambia a admin\n                      if (nuevoRol === 'admin') {\n                        handleInputChange('localId', '');\n                      }\n                    }}\n                    className=\"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                  >\n                    <option value=\"trabajador\">Trabajador</option>\n                    <option value=\"admin\">Administrador</option>\n                  </select>\n                </div>\n\n                {/* Local Asignado */}\n                <div>\n                  <label className=\"block text-sm font-medium text-slate-700 mb-2\">\n                    Local Asignado {formData.rol === 'trabajador' && '*'}\n                  </label>\n                  <select\n                    value={formData.localId}\n                    onChange={(e) => handleInputChange('localId', e.target.value)}\n                    disabled={formData.rol === 'admin'}\n                    className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 ${\n                      formData.rol === 'admin' ? 'bg-slate-100 cursor-not-allowed' : ''\n                    } ${errores.localId ? 'border-red-300' : 'border-slate-300'}`}\n                  >\n                    <option value=\"\">\n                      {formData.rol === 'admin' ? 'No aplica para administradores' : 'Seleccionar local'}\n                    </option>\n                    {locales.map(local => (\n                      <option key={local.id} value={local.id}>\n                        {local.nombre}\n                      </option>\n                    ))}\n                  </select>\n                  {errores.localId && (\n                    <p className=\"text-red-600 text-xs mt-1\">{errores.localId}</p>\n                  )}\n                  {formData.rol === 'admin' && (\n                    <p className=\"text-slate-500 text-xs mt-1\">\n                      Los administradores tienen acceso a todos los locales\n                    </p>\n                  )}\n                </div>\n\n                {/* Estado */}\n                <div>\n                  <label className=\"block text-sm font-medium text-slate-700 mb-2\">\n                    Estado\n                  </label>\n                  <select\n                    value={formData.activo.toString()}\n                    onChange={(e) => handleInputChange('activo', e.target.value === 'true')}\n                    className=\"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                  >\n                    <option value=\"true\">Activo</option>\n                    <option value=\"false\">Inactivo</option>\n                  </select>\n                </div>\n\n                {/* Notas */}\n                <div className=\"md:col-span-2\">\n                  <label className=\"block text-sm font-medium text-slate-700 mb-2\">\n                    Notas\n                  </label>\n                  <textarea\n                    value={formData.notas}\n                    onChange={(e) => handleInputChange('notas', e.target.value)}\n                    className=\"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                    placeholder=\"Información adicional sobre el usuario...\"\n                    rows={3}\n                    maxLength={200}\n                  />\n                </div>\n              </div>\n            </div>\n\n            {/* Botones */}\n            <div className=\"flex justify-end space-x-3 pt-6\">\n              <button\n                type=\"button\"\n                onClick={handleCerrar}\n                className=\"px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-md hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 transition-colors duration-200\"\n              >\n                Cancelar\n              </button>\n              <button\n                type=\"submit\"\n                className=\"px-4 py-2 text-sm font-medium text-white bg-green-600 border border-transparent rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200\"\n              >\n                Guardar Cambios\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ModalEditarUsuario;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}